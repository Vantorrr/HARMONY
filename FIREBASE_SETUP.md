# üî• Firebase Push –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è - –ù–∞—Å—Ç—Ä–æ–π–∫–∞

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

‚úÖ **DEMO –†–ï–ñ–ò–ú –ê–ö–¢–ò–í–ï–ù** - push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–∏–º—É–ª—è—Ü–∏–∏  
‚ùå **–†–µ–∞–ª—å–Ω—ã–π Firebase** - –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

---

## üõ†Ô∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å (Demo —Ä–µ–∂–∏–º)

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- üì± **–°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç mock —Ç–æ–∫–µ–Ω
- üîî **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞  
- üì® **Mock —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç alert –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üéÆ **Service Worker** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/sw-demo.js` –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

### üì± –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** –≤ –ø—Ä–æ—Ñ–∏–ª–µ
2. –í–∫–ª—é—á–∏—Ç–µ –ª—é–±–æ–π —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
3. –£–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!"
4. –¢–µ—Å—Ç–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –∫–∞–∫ alert

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ Firebase (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### 1. üìã –°–æ–∑–¥–∞–π—Ç–µ Firebase –ø—Ä–æ–µ–∫—Ç

1. –ó–∞–π–¥–∏—Ç–µ –≤ [Firebase Console](https://console.firebase.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç "harmony-fitness"
3. –í–∫–ª—é—á–∏—Ç–µ **Cloud Messaging**

### 2. üîß –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–π–¥–∏—Ç–µ **Web app config**:

```javascript
// –í–∞—à–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
const firebaseConfig = {
  apiKey: "AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  authDomain: "harmony-fitness-real.firebaseapp.com",
  projectId: "harmony-fitness-real", 
  storageBucket: "harmony-fitness-real.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef1234567890abcdef",
  measurementId: "G-ABCDEFGHIJ"
};
```

### 3. üîë –ü–æ–ª—É—á–∏—Ç–µ VAPID –∫–ª—é—á

1. –í Firebase Console ‚Üí **Project Settings** ‚Üí **Cloud Messaging**
2. –í —Ä–∞–∑–¥–µ–ª–µ **Web configuration** ‚Üí **Web Push certificates**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Key pair**

### 4. üìÅ –°–æ–∑–¥–∞–π—Ç–µ .env.local —Ñ–∞–π–ª

```env
# Firebase Configuration
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=harmony-fitness-real.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=harmony-fitness-real
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=harmony-fitness-real.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890abcdef
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=G-ABCDEFGHIJ
NEXT_PUBLIC_FIREBASE_VAPID_KEY=BNdVXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
```

### 5. üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
npm run dev
```

**üéâ –¢–µ–ø–µ—Ä—å Firebase –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ!**

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ **DevTools** ‚Üí **Console** –∏ –Ω–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

### Demo —Ä–µ–∂–∏–º:
```
üéÆ Firebase –≤ demo —Ä–µ–∂–∏–º–µ - —Å–∏–º—É–ª—è—Ü–∏—è Messaging
üéÆ Demo —Ä–µ–∂–∏–º - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è mock —Ç–æ–∫–µ–Ω–∞
üîî Mock FCM Token: demo_token_1234567890_abc123def
```

### –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º:
```
FCM Token: eXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
Notification permission granted
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï:
- `.env.local` —Ñ–∞–π–ª 
- –†–µ–∞–ª—å–Ω—ã–µ Firebase –∫–ª—é—á–∏
- VAPID –∫–ª—é—á–∏

### ‚úÖ –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore:
```
.env.local
.env.production
```

---

## üéØ API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ Push

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Firebase –≤—ã —Å–º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Firebase Admin SDK –∏–ª–∏ REST API.

### –ü—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏:
```javascript
// –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Admin SDK
await admin.messaging().send({
  token: fcmToken,
  notification: {
    title: '–¶–µ–Ω—Ç—Ä "–ì–∞—Ä–º–æ–Ω–∏—è"',
    body: '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–Ω—è—Ç–∏–∏ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç!'
  },
  data: {
    type: 'reminder',
    action: 'view_schedule'
  }
});
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**üéØ –°–µ–π—á–∞—Å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ demo —Ä–µ–∂–∏–º–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!**

**üöÄ –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ Firebase –∫–ª—é—á–∏ –≤ .env.local**