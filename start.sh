#!/bin/bash

echo "üöÄ –ó–∞–ø—É—Å–∫ –¶–µ–Ω—Ç—Ä–∞ –†–∞–∑–≤–∏—Ç–∏—è –†–µ–±–µ–Ω–∫–∞ '–ì–ê–†–ú–û–ù–ò–Ø'"
echo "=========================================="

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ Node.js
if ! command -v node &> /dev/null; then
    echo "‚ùå Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!"
    echo "–°–∫–∞—á–∞–π—Ç–µ —Å https://nodejs.org/"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ npm
if ! command -v npm &> /dev/null; then
    echo "‚ùå NPM –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!"
    exit 1
fi

echo "‚úÖ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: $(node --version)"
echo "‚úÖ NPM —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: $(npm --version)"
echo ""

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
if [ ! -d "node_modules" ]; then
    echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
    npm install
fi

echo "üåü –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä..."
echo ""
echo "üåê –°—Å—ã–ª–∫–∏:"
echo "   –ö–ª–∏–µ–Ω—Ç—ã: http://localhost:3000"
echo "   –ê–¥–º–∏–Ω–∫–∞: http://localhost:3000/admin"
echo ""
echo "üîê –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:"
echo "   –ö–ª–∏–µ–Ω—Ç - —Ç–µ–ª–µ—Ñ–æ–Ω: –ª—é–±–æ–π, SMS: –ª—é–±–æ–π"
echo "   –ê–¥–º–∏–Ω - –ª–æ–≥–∏–Ω: admin, –ø–∞—Ä–æ–ª—å: admin123"
echo ""
echo "üõë –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C"
echo "=========================================="

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
npm run dev